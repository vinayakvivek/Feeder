{% extends 'base.html' %}
{% load static %}
<style type="text/css">
    {% block style %}
    	body {
			/*background:url({% static 'img/bg5.jpeg' %}) no-repeat center center fixed;*/
			background-color: white;
			background-size:cover;
		}
    {% endblock %}
</style>

{% block navbar %}
{% endblock %}

{% block content %}

<div class="container">

	<div class="card col s12 m8 offset-m2">
		<p class="flow-text center-align">New feedback for {{ course_code }}</p>
	</div>

	<form method="POST" action="{% url 'newfeedback' course_code %}">
		{% csrf_token %}

		<div class="row">
	        <div class="input-field col s12 m6 offset-m3">
	          	{{ form.title }}
	          	{{ form.title.label_tag }}
	        </div>
	    </div>
	    <div class="row">
	        <div class="input-field col s12 m6 offset-m3">
	          	{{ form.description }}
	          	{{ form.description.label_tag }}
	        </div>
	    </div>

		<br>

		<div class="row">
			<div class="card col s12 m8 offset-m2">
				<p class=""><strong>Questions</strong></p>
			</div>
		</div>

		<div class="row center-align">
		<div id="questions" class="container">

			{{ qformset.management_form }}

			{% for qform in qformset %}

				{% if qform.errors %}
					<div class="row">
						<p class="red">{{ qform.errors }}</p>
					</div>
				{% endif %}

				<div class="qformset">
					<br><br>
					<div class="row">
						<div class="col s1">
							<i class="material-icons">play_arrow</i>
						</div>
						<div class="col s11">
							{{ qform.question }}
						</div>
					</div>

					<div class="row">
						<div class="col s12">
							{{ qform.a }}
						</div>
					</div>
					<div class="row">
						<div class="col s12">
							{{ qform.b }}
						</div>
					</div>
					<div class="row">
						<div class="col s12">
							{{ qform.c }}
						</div>
					</div>
					<div class="row">
						<div class="col s12">
							{{ qform.d }}
						</div>
					</div>

					<div class="row">
						<div class="col s12">
							{{ qform.e }}
						</div>
					</div>

				</div>

			{% endfor %}
		</div>
		</div>
		<br><br>
		<div class="row center-align">
			<button class="btn blue" type="submit" name="submit">Submit</button>
		</div>
	</form>

	<br><br><br><br><br>
</div>
{% endblock %}

<script type="text/javascript">
{% block script %}
	
	$('.qformset').formset({
        deleteText: '<button class="btn-floating red tooltipped" data-position="bottom" data-tooltip="Delete the question above"><i class="material-icons right">delete</i></button><br><br>',
        addText: '<button class="btn-floating green tooltipped" data-position="bottom" data-tooltip="Add a new question"><i class="material-icons right">add</i></button>'
    });

{% endblock %}
</script>
