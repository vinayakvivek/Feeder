{% extends 'base.html' %}

{% load static %}

<style type="text/css">
  {% block style %}
  	{% include 'form_style.css' %}
  {% endblock %}
</style>

{% block navbar %}	
{% endblock %}

{% block content %}

<div class="">
	<div id="login-page" class="row">
		<div class="card-panel row main-center">

			<div class="row center-align">
    			<p class="red-text">{{ error_msg }}</p>
    		</div>

		    <form method="POST" action="{% url 'login' %}">
		    {% csrf_token %}   	

		    	<div class="row">
			        <div class="input-field col s12">
			          	<input id="username" type="text" class="validate" name="username">
			          	<label for="username">Username</label>
			        </div>
			    </div>	
				
				<!-- <div class="row">
			        <div class="input-field col s12">
			          	<input id="email" type="email" class="validate" name="email">
			          	<label for="email">Email</label>
			        </div>
			    </div> -->		      
		      
			    <div class="row">
			        <div class="input-field col s12">
			        	<input id="password" type="password" class="validate" name="password">
			      	    <label for="password">Password</label>
			        </div>
			    </div>

			    <div class="row">
		            <div class="input-field col s12">
		            	<input type="submit" name="submit" value="Log In" class="btn waves-effect waves-light col s12">
		            </div>
		        </div>
		    </form>

		    <div class="row center-align">
		    	<p class="">Don't have an accout? <a href="{% url 'register' %}">Sign Up</a> here</p>
		    </div>
		    <p class="row center-align">Or Sign in with google</p>
		    <div class="row center-align" style="margin-left: 85px">
		    	<div class="g-signin2" data-onsuccess="onSignIn"></div>
		    </div>
		</div>
	</div>
</div>

<script type="text/javascript">
	function onSignIn(googleUser) {
	    var profile = googleUser.getBasicProfile();
	    console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
	    console.log('Name: ' + profile.getName());
	    console.log('Image URL: ' + profile.getImageUrl());
	    console.log('Email: ' + profile.getEmail());

	    var id_token = googleUser.getAuthResponse().id_token;    
	}
</script>

{% endblock %}




































